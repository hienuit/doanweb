<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Báº£n Ä‘á»“</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAX7VUJAOydS5bl0Ms8iywvd1log047yj0&libraries=places&callback=initMap" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/map.css') }}">
</head>
<body class="map-page">
<!-- Home Button -->
<a href="/" class="home-button" style="position: fixed; top: 20px; left: 20px; z-index: 1001; background-color: rgba(255, 255, 255, 0.95); color: #FF9F1C; padding: 12px 18px; border-radius: 25px; text-decoration: none; font-weight: bold; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease; border: 2px solid #FF9F1C; backdrop-filter: blur(10px);">
  <i class="fas fa-home" style="margin-right: 8px;"></i>
  <span class="home-text">Trang Chá»§</span>
</a>

<div id="day-controls">
  <div class="day-navigation">
    <button id="prevDayBtn" class="day-nav-btn" disabled>
      <i class="fas fa-chevron-left"></i> 
      <span class="btn-text">NgÃ y trÆ°á»›c</span>
    </button>
    <div class="current-day-info">
      <span id="currentDayLabel">NgÃ y 1</span>
      <div id="dayProgress">
        <span id="dayCounter">1 / 1</span>
      </div>
    </div>
    <button id="nextDayBtn" class="day-nav-btn" disabled>
      <span class="btn-text">NgÃ y sau</span> 
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>
  
  <div class="day-summary">
    <div class="summary-item">
      <span class="summary-label">Hoáº¡t Ä‘á»™ng:</span>
      <span id="activitiesCount">0</span>
    </div>
    <div class="summary-item">
      <span class="summary-label">Chi phÃ­:</span>
      <span id="dayCost">0 VND</span>
    </div>
  </div>
</div>

<!-- Mobile Controls Container -->
<div class="mobile-controls">
  <div class="mobile-row-1">
    <div id="controls">
      <label>Tá»‘c Ä‘á»™: <span id="speedLabel">100</span> ms/bÆ°á»›c</label><br>
      <input type="range" id="speedSlider" min="10" max="1000" value="100">
    </div>

    <div id="trip-buttons-wrapper">
      <button id="start-trip-btn" class="visible">
        <i class="fas fa-car"></i> 
        <span class="btn-text">Báº¯t Ä‘áº§u hÃ nh trÃ¬nh ngÃ y nÃ y</span>
      </button>
      <button id="reset-trip-btn" class="hidden">
        <i class="fas fa-redo"></i> 
        <span class="btn-text">Äáº·t láº¡i hÃ nh trÃ¬nh</span>
      </button>
      <button id="auto-play-btn" class="hidden">
        <i class="fas fa-play-circle"></i> 
        <span class="btn-text">Tá»± Ä‘á»™ng cháº¡y táº¥t cáº£ ngÃ y</span>
      </button>
    </div>
  </div>

  <button id="findHotelsBtn" class="hotel-button">
    <i class="fas fa-hotel"></i> 
    <span class="btn-text">TÃ¬m khÃ¡ch sáº¡n gáº§n Ä‘Ã¢y</span>
  </button>

  <!-- Route Legend -->
  <div id="route-legend">
    <h4>ğŸ—ºï¸ ChÃº thÃ­ch tuyáº¿n Ä‘Æ°á»ng</h4>
    <div class="legend-item">
      <div class="legend-line driving"></div>
      <span>ğŸš— ÄÆ°á»ng bá»™ (xe hÆ¡i)</span>
    </div>
    <div class="legend-item">
      <div class="legend-line transit"></div>
      <span>ğŸšŒ PhÆ°Æ¡ng tiá»‡n cÃ´ng cá»™ng</span>
    </div>
    <div class="legend-item">
      <div class="legend-line walking"></div>
      <span>ğŸš¶ Äi bá»™</span>
    </div>
    <div class="legend-item">
      <div class="legend-line water"></div>
      <span>ğŸŒŠ ÄÆ°á»ng biá»ƒn/hÃ ng khÃ´ng</span>
    </div>
    <div class="legend-item">
      <div class="legend-line direct"></div>
      <span>ğŸ”— Káº¿t ná»‘i trá»±c tiáº¿p</span>
    </div>
    <div class="legend-item">
      <div class="legend-line straight"></div>
      <span>âœˆï¸ ÄÆ°á»ng tháº³ng</span>
    </div>
  </div>
</div>

<div id="map"></div>

<div class="map-style-control">
  <button class="style-button active" data-style="default">
    <span class="style-text">Máº·c Ä‘á»‹nh</span>
  </button>
  <button class="style-button" data-style="satellite">
    <span class="style-text">Vá»‡ tinh</span>
  </button>
  <button class="style-button" data-style="terrain">
    <span class="style-text">Äá»‹a hÃ¬nh</span>
  </button>
  <button class="style-button" data-style="night">
    <span class="style-text">Ban Ä‘Ãªm</span>
  </button>
</div>

<div id="trip-info">
  <h3>ThÃ´ng tin chuyáº¿n Ä‘i</h3>
  <div class="info-item">
    <span class="info-label">NgÃ y hiá»‡n táº¡i:</span>
    <span id="current-day-info">NgÃ y 1</span>
  </div>
  <div class="info-item">
    <span class="info-label">QuÃ£ng Ä‘Æ°á»ng ngÃ y:</span>
    <span id="day-distance">Äang tÃ­nh...</span>
  </div>
  <div class="info-item">
    <span class="info-label">Thá»i gian Æ°á»›c tÃ­nh:</span>
    <span id="day-duration">Äang tÃ­nh...</span>
  </div>
  <div class="info-item">
    <span class="info-label">Äiá»ƒm dá»«ng:</span>
    <span id="day-stops">0</span>
  </div>
  <div class="info-item">
    <span class="info-label">Tiáº¿n Ä‘á»™ ngÃ y:</span>
    <span id="day-progress">0%</span>
  </div>
  <div class="info-item">
    <span class="info-label">Tá»•ng tiáº¿n Ä‘á»™:</span>
    <span id="total-progress">0%</span>
  </div>
</div>

<div id="myModal">
  <div class="modal-content">
    <p id="modalMessage">ÄÃ£ Ä‘áº¿n Ä‘iá»ƒm</p>
  </div>
</div>

<div id="gifSmall">
  <img id="smallGif" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExcThtbnZ4a2owZHhwc2ozdDJwbWI1azcyNHZtb3hnMmxtNWx5ZWowbSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9dg/k7rvJoAgijk9qxyCKy/giphy.gif" alt="GIF" />
</div>

<script src="{{ url_for('static', filename='js/map.js') }}"></script>  
</body>
</html>